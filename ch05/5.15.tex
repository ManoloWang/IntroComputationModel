\problem{证明定理5.21中函数$g$为一般递归函数.}
\begin{proof}
	这里需要使用题5.17的结论.
	
	当$m\notin S$时, 有$g(m)=0$.
	
	否则, 可以解码出编码$m$对应的机器$M$的行数和各个行的内容.
	
	而$M_1$计算常值函数$m$的机器可通过$\machine{Z}\concat \machine{S}^m$构造, 显然可以通过$m$由一般递归函数计算.
	
	而$\hat{M}=M_1\concat M$, 这意味着$M$的所有行都要自加$m$, 这个映射也是一般递归的.
	
	因此最终整个函数都是一般递归的.
\end{proof}